System.register("chunks:///_virtual/AlertManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy}],execute:function(){e._RF.push({},"aab5eJuJBZKFL37bZNR+hZE","AlertManager",void 0),n("default",function(){function n(){this.alertbox=null,this.box=null,this.speed=.3}n.getInstance=function(){};var e=n.prototype;return e.show=function(n,t){},e.fadeIn=function(){},e.fadeOut=function(){},e.onFadeInFinish=function(){},e.onFadeOutFinish=function(){},t(n,null,[{key:"instance",get:function(){}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./DataManager.ts","./ResourceManager.ts"],(function(t){"use strict";var n,e,u,r,i,a,s,c;return{setters:[function(t){n=t.createClass,e=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){r=t.cclegacy,i=t.AudioSource},function(t){a=t.ENUM_AUDIO_CLIP},function(t){s=t.default},function(t){c=t.default}],execute:function(){r._RF.push({},"86384G5cBFKzI5qG1o61wAk","AudioManager",void 0),t("default",function(){function t(){this.audioSource=null}t.getInstance=function(){return null===this._instance&&(this._instance=new this,this._instance.init()),this._instance};var r=t.prototype;return r.init=function(){this.audioSource=new i,this.audioSource.loop=!0,this.audioSource.volume=.3},r.playMusic=function(){var t=e(u().mark((function t(){var n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.instance.isMusicOn){t.next=2;break}return t.abrupt("return");case 2:if(!this.audioSource.clip){t.next=5;break}return this.audioSource.play(),t.abrupt("return");case 5:return t.next=7,c.instance.getClip(a.BGM);case 7:n=t.sent,this.audioSource.clip=n,this.audioSource.play();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.stopMusic=function(){this.audioSource.stop()},r.playSound=function(){var t=e(u().mark((function t(n,e){var r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.instance.isSoundOn){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,c.instance.getClip(n);case 5:return r=t.sent,t.abrupt("return",this.audioSource.playOneShot(r));case 7:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),r.stopSound=function(t){this.audioSource.stop()},n(t,null,[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,r._RF.pop()}}}));

System.register("chunks:///_virtual/Baselayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.Component}],execute:function(){var s;r._RF.push({},"67767R5eDlEaIJb3SrHBYLI","Baselayer",void 0);var c=n.ccclass;n.property,e("default",c("Baselayer")(s=function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var n=r.prototype;return n.show=function(){this.node.active=!0},n.hide=function(){this.node.active=!1},r}(o))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/Bat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./Enum.ts"],(function(t){"use strict";var n,i,e,s,o,a,r,u,c,l,h,d,p,f,y,m,E;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,r=t._decorator,u=t.BoxCollider2D,c=t.Animation,l=t.Contact2DType,h=t.tween,d=t.Vec3,p=t.Component},function(t){f=t.default},function(t){y=t.ENUM_BAT_STATUS,m=t.ENUM_COLLIDER_TAG,E=t.ENUM_GAME_STATUS}],execute:function(){var _,g,C,A,T;a._RF.push({},"74e6fEx2lNIhpWaXZECDZEb","Bat",void 0);var B=r.ccclass,L=r.property;t("default",(_=B("Bat"),g=L(u),_((T=n((A=function(t){function n(){for(var n,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(n=t.call.apply(t,[this].concat(o))||this)._status=y.IDLE,n.anim=null,n.dir=0,n.speed=100,e(n,"sensor",T,s(n)),n}i(n,t);var a=n.prototype;return a.onLoad=function(){this.anim=this.node.getChildByName("body").getComponent(c),this.sensor.on(l.BEGIN_CONTACT,this.onBeginContact,this)},a.onBeginContact=function(t,n,i){this.onCollisionEnter(n,t)},a.onCollisionEnter=function(t,n){var i=this;if(t.tag==m.PLAYER&&n.tag==m.BAT_VIEW&&this.status==y.IDLE){this.status=y.WALL_OUT,this.speed+=80*Math.random();var e=-100;Math.random()>.5&&(e=-200),h(this.node).by(.5,{position:new d(0,e,0)},{easing:"cubicOut"}).call((function(){i.status=y.FLY,i.dir=i.node.position.x<0?1:-1,i.node.setScale(i.node.scale.x*-i.dir,i.node.scale.y)})).start()}},a.onAnimPlay=function(){this.anim.play(this.status)},a.update=function(t){f.instance.status==E.RUNING&&this.dir&&(this.node.setPosition(this.node.position.x+this.speed*this.dir*t,this.node.position.y),Math.abs(this.node.position.x)>=400&&this.node.removeFromParent())},o(n,[{key:"status",get:function(){return this._status},set:function(t){this._status=t,this.onAnimPlay()}}]),n}(p)).prototype,"sensor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/Block.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts"],(function(t){"use strict";var n,e,o,s,c,i;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){o=t.cclegacy,s=t._decorator,c=t.Component},function(t){i=t.default}],execute:function(){var r;o._RF.push({},"f17f58yH/1Bh5/3ZT99nRIu","Block",void 0);var u=s.ccclass;s.property,t("default",u("Block")(r=function(t){function o(){for(var n,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this).id=-1,n.x=0,n.y=0,n}n(o,t);var s=o.prototype;return s.init=function(t){console.log(t),Object.assign(this,t),i.instance.blocks.push(this)},s.rendor=function(){this.node.setPosition(this.x,this.y),console.log("TODO: set z index")},e(o,[{key:"height",get:function(){return 350}}]),o}(c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/Box.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./AudioManager.ts"],(function(n){"use strict";var t,o,i,e,s,a,c,r,h,l,u;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator,e=n.Animation,s=n.Collider2D,a=n.Contact2DType,c=n.RigidBody2D,r=n.Component},function(n){h=n.ENUM_COLLIDER_TAG,l=n.ENUM_AUDIO_CLIP},function(n){u=n.default}],execute:function(){var p;o._RF.push({},"7b72bYpNXhEdKJXwQYwaF+S","Box",void 0);var d=i.ccclass;i.property,n("default",d("Box")(p=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).animation=null,t}t(o,n);var i=o.prototype;return i.onLoad=function(){this.animation=this.node.getComponent(e),this.animation.on(e.EventType.PLAY,this.onPlay,this),this.animation.on(e.EventType.FINISHED,this.onFinished,this);var n=this.getComponent(s);n&&(console.log("handle collider event"),n.on(a.BEGIN_CONTACT,this.onBeginContact,this)),this.getComponent(c).enabledContactListener=!0},i.onBeginContact=function(n,t,o){this.onCollisionEnter(t,n)},i.onCollisionEnter=function(n,t){n.tag==h.PLAYER&&t.tag==h.BOX&&(t.node.getComponent(e).play(),u.instance.playSound(l.BOX))},i.onPlay=function(){this.animation.getState("box").isPlaying&&this.node.getComponent(s).destroy()},i.onFinished=function(){this.node.active=!1},i.onDestroy=function(){this.animation.off(e.EventType.PLAY,this.onFinished,this),this.animation.off(e.EventType.FINISHED,this.onFinished,this)},o}(r))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/Camera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./EventManager.ts"],(function(t){"use strict";var e,o,n,s,r,a,i;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.Vec3,r=t.Component},function(t){a=t.ENUM_GAME_EVENT},function(t){i=t.default}],execute:function(){var c;o._RF.push({},"c5ffdLeVdlPCa6yq9Co3+TT","Camera",void 0);var u=n.ccclass;n.property,t("default",u("Camera")(c=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).targetPos=new s(0,0,100),e.offsetY=300,e}e(o,t);var n=o.prototype;return n.onLoad=function(){i.instance.on(a.CAMERA_MOVE,this.onCameraMove,this)},n.onDestroy=function(){i.instance.off(a.CAMERA_MOVE,this.onCameraMove)},n.onCameraMove=function(t){var e=t.block,o=t.reset;if(e){var n=e.getPosition();this.targetPos.x=n.x,this.targetPos.y=n.y+this.offsetY,o&&this.node.setPosition(this.targetPos)}},n.update=function(t){var e=this.node.getPosition();e.lerp(this.targetPos,.02),this.node.setPosition(e)},o}(r))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/Chicken.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./DataManager.ts"],(function(t){"use strict";var i,n,e,s,o,r,a,u,c,h,l,d,p,C,f;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.BoxCollider2D,c=t.Animation,h=t.Contact2DType,l=t.Component},function(t){d=t.ENUM_CHICKEN_STATUS,p=t.ENUM_COLLIDER_TAG,C=t.ENUM_GAME_STATUS},function(t){f=t.default}],execute:function(){var y,g,E,_,N,m,A;r._RF.push({},"635c0iji5RD/qiAGOxQzvcl","Chicken",void 0);var T=a.ccclass,I=a.property;t("default",(y=T("Chicken"),g=I(u),E=I(u),y((m=i((N=function(t){function i(){for(var i,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(i=t.call.apply(t,[this].concat(o))||this)._status=d.IDLE,i.anim=null,i.dir=0,i.speed=300,e(i,"sensor",m,s(i)),e(i,"body",A,s(i)),i}n(i,t);var r=i.prototype;return r.onLoad=function(){this.anim=this.node.getChildByName("body").getComponent(c),this.sensor.on(h.BEGIN_CONTACT,this.onBeginContact,this),this.body.on(h.BEGIN_CONTACT,this.onBeginContact,this)},r.onBeginContact=function(t,i,n){this.onCollisionEnter(i,t)},r.onCollisionEnter=function(t,i){t.tag==p.PLAYER&&i.tag==p.CHICKEN_VIEW&&this.status==d.IDLE?(this.status=d.RUN,this.speed+=80*Math.random(),this.dir=1,this.node.setScale(-1*this.dir,this.node.scale.y)):t.tag!=p.WALL&&t.tag!=p.BRICK||i.tag!=p.CHICKEN||this.status!=d.RUN||this.onTurn()},r.getDir=function(){return this.dir},r.onTurn=function(){this.dir&&(this.dir*=-1,this.node.setScale(-1*this.dir,this.node.scale.y))},r.onAnimPlay=function(){this.anim.play(this.status)},r.update=function(t){f.instance.status==C.RUNING&&this.dir&&this.node.setPosition(this.node.position.x+this.speed*this.dir*t,this.node.position.y)},o(i,[{key:"status",get:function(){return this._status},set:function(t){this._status=t,this.onAnimPlay()}}]),i}(l)).prototype,"sensor",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(N.prototype,"body",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=N))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/Coin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./Enum.ts","./AudioManager.ts","./DataManager.ts"],(function(n){"use strict";var t,i,o,e,a,s,c,r,l,u,h,d,f;return{setters:[function(n){t=n.inheritsLoose},function(n){i=n.cclegacy,o=n._decorator,e=n.Animation,a=n.Collider2D,s=n.Contact2DType,c=n.RigidBody2D,r=n.Component},function(n){l=n.StaticInstance},function(n){u=n.ENUM_COLLIDER_TAG,h=n.ENUM_AUDIO_CLIP},function(n){d=n.default},function(n){f=n.default}],execute:function(){var p;i._RF.push({},"32783+ORjRB0Kc3Bu2Vzr+o","Coin",void 0);var C=o.ccclass;o.property,n("default",C("Coin")(p=function(n){function i(){for(var t,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(t=n.call.apply(n,[this].concat(o))||this).animation=null,t}t(i,n);var o=i.prototype;return o.onLoad=function(){this.animation=this.node.getComponent(e),this.animation.on(e.EventType.PLAY,this.onPlay,this),this.animation.on(e.EventType.FINISHED,this.onFinished,this);var n=this.getComponent(a);n&&(console.log("handle collider event"),n.on(s.BEGIN_CONTACT,this.onBeginContact,this)),this.getComponent(c).enabledContactListener=!0},o.onBeginContact=function(n,t,i){this.onCollisionEnter(t,n)},o.onCollisionEnter=function(n,t){n.tag==u.PLAYER&&t.tag==u.COIN&&(this.animation.play("collected"),d.instance.playSound(h.COLLECT),f.instance.coins+=1,f.instance.save(),l.uiManager.setGameCoins())},o.onPlay=function(){this.animation.getState("collected").isPlaying&&this.node.getComponent(a).destroy()},o.onFinished=function(){this.node.active=!1},o.onDestroy=function(){this.animation.off(e.EventType.PLAY,this.onFinished,this),this.animation.off(e.EventType.FINISHED,this.onFinished,this)},i}(r))||p);i._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts"],(function(n){"use strict";var t,i,s,o,e;return{setters:[function(n){t=n.createClass},function(n){i=n.cclegacy,s=n.sys},function(n){o=n.ENUM_GAME_STATUS,e=n.ENUM_GAME_TYPE}],execute:function(){i._RF.push({},"553d8jWTrtMLp5Y0BCw6z45","DataManager",void 0);var c="STAIRWAY_STORAGE_KEY";n("default",function(){function n(){this.type=e.LOOP,this.status=o.UNRUNING,this._level=1,this._unlock=1,this._isMusicOn=!0,this._isSoundOn=!0,this._maxGoal=1,this._coins=0,this._skinIndex=0,this.skinLockInfo=[{locked:!1,coins:0},{locked:!0,coins:50},{locked:!0,coins:100},{locked:!0,coins:200},{locked:!0,coins:500}],this.goal=1,this.blocks=[],this.games=[{title:"消了个消3d",icon:"xiao3d",appid:"wx5841e5a26082b380",url:"https://store.cocos.com/app/detail/4148"},{title:"实况足球杯",icon:"football",appid:"wx0c16e9d7f9e87dac",url:"https://store.cocos.com/app/detail/4221"},{title:"消了个消2d",icon:"xiao2d",appid:"wxefd5a4ddd8e31b44",url:"https://store.cocos.com/app/detail/4183"}]}n.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var i=n.prototype;return i.setSkinLockInfo=function(n,t){this.skinLockInfo[n].locked=t,this.save()},i.reset=function(n){void 0===n&&(n=!1),this.status=o.UNRUNING,this.blocks=[],n||(this.goal=1)},i.save=function(){s.localStorage.setItem(c,JSON.stringify({level:this.level,unlock:this.unlock,isSoundOn:this.isSoundOn,isMusicOn:this.isMusicOn,maxGoal:this.maxGoal,coins:this.coins,skinIndex:this.skinIndex,skinLockInfo:this.skinLockInfo}))},i.restore=function(){var t=s.localStorage.getItem(c);try{var i=JSON.parse(t);this.level=(null==i?void 0:i.level)||1,this.unlock=(null==i?void 0:i.unlock)||1,this.isMusicOn=!1!==(null==i?void 0:i.isMusicOn),this.isSoundOn=!1!==(null==i?void 0:i.isSoundOn),this.maxGoal=(null==i?void 0:i.maxGoal)||1,this.coins=(null==i?void 0:i.coins)||0,this.skinIndex=(null==i?void 0:i.skinIndex)||0,i.skinLockInfo&&(this.skinLockInfo=i.skinLockInfo),n.instance.save()}catch(n){this.level=1,this.unlock=1,this.isMusicOn=!0,this.isSoundOn=!0,this.maxGoal=1,this.coins=0,this.skinIndex=0,this.reset()}},i.getLastBlock=function(){return this.blocks.length<=0?null:this.blocks[this.blocks.length-1]},i.getFirstBlock=function(){return this.blocks.length<=0?null:this.blocks[0]},t(n,[{key:"level",get:function(){return this._level},set:function(n){this._level=n}},{key:"unlock",get:function(){return this._unlock},set:function(n){this._unlock=n}},{key:"isMusicOn",get:function(){return this._isMusicOn},set:function(n){this._isMusicOn=n}},{key:"isSoundOn",get:function(){return this._isSoundOn},set:function(n){this._isSoundOn=n}},{key:"maxGoal",get:function(){return this._maxGoal},set:function(n){this._maxGoal=n}},{key:"coins",get:function(){return this._coins},set:function(n){this._coins=n}},{key:"skinIndex",get:function(){return this._skinIndex},set:function(n){this._skinIndex=n}}],[{key:"instance",get:function(){return this.getInstance()}}]),n}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/Enum.ts",["cc"],(function(E){"use strict";var A;return{setters:[function(E){A=E.cclegacy}],execute:function(){var _,N,L,I,T,M,U,i,R,P,S,n;E({ENUM_AUDIO_CLIP:void 0,ENUM_BAT_STATUS:void 0,ENUM_CHICKEN_STATUS:void 0,ENUM_COLLIDER_TAG:void 0,ENUM_GAME_EVENT:void 0,ENUM_GAME_STATUS:void 0,ENUM_GAME_TYPE:void 0,ENUM_GAME_ZINDEX:void 0,ENUM_PLANT_STATUS:void 0,ENUM_PLAYER_STATUS:void 0,ENUM_RESOURCE_TYPE:void 0,ENUM_UI_TYPE:void 0}),A._RF.push({},"06faeILO/BGqJMAIuTl6l43","Enum",void 0),function(E){E.UNRUNING="UNRUNING",E.RUNING="RUNING"}(_||(_=E("ENUM_GAME_STATUS",{}))),function(E){E.WALK="walk",E.CLIMB="climb",E.JUMP="jump",E.DIE="die"}(N||(N=E("ENUM_PLAYER_STATUS",{}))),function(E){E.IDLE="idle",E.FLY="fly",E.WALL_IN="wall_in",E.WALL_OUT="wall_out",E.HIT="hit"}(L||(L=E("ENUM_BAT_STATUS",{}))),function(E){E.IDLE="idle",E.RUN="run",E.HIT="hit"}(I||(I=E("ENUM_CHICKEN_STATUS",{}))),function(E){E.IDLE="idle",E.ATTACK="attack"}(T||(T=E("ENUM_PLANT_STATUS",{}))),function(E){E[E.PLAYER=0]="PLAYER",E[E.GROUND=1]="GROUND",E[E.WALL=2]="WALL",E[E.LADDER=3]="LADDER",E[E.ENDPOINT=4]="ENDPOINT",E[E.BAT=5]="BAT",E[E.SPIKE=6]="SPIKE",E[E.BAT_VIEW=7]="BAT_VIEW",E[E.CHICKEN=8]="CHICKEN",E[E.CHICKEN_VIEW=9]="CHICKEN_VIEW",E[E.BRICK=10]="BRICK",E[E.SAW=11]="SAW",E[E.SPIKEBALL=12]="SPIKEBALL",E[E.BOX=13]="BOX",E[E.TRAMPOLINE=14]="TRAMPOLINE",E[E.PLANT_VIEW=15]="PLANT_VIEW",E[E.PLANT_BULLET=16]="PLANT_BULLET",E[E.COIN=17]="COIN"}(M||(M=E("ENUM_COLLIDER_TAG",{}))),function(E){E.PLAYER_JUMP="PLAYER_JUMP",E.PLAYER_CLIMB_END="PLAYER_CLIMB_END",E.GAME_START="GAME_START",E.GAME_RELIVE="GAME_RELIVE",E.GAME_WIN="GAME_WIN",E.GAME_LOSE="GAME_LOSE",E.CAMERA_MOVE="CAMERA_MOVE",E.EFFECT_STAR_PLAY="EFFECT_STAR_PLAY"}(U||(U=E("ENUM_GAME_EVENT",{}))),function(E){E.AUDIO="audio",E.PREFAB="prefab",E.SPRITE="sprite"}(i||(i=E("ENUM_RESOURCE_TYPE",{}))),function(E){E[E.LOADING=0]="LOADING",E[E.MENU=1]="MENU",E[E.GAME=2]="GAME",E[E.LEVEL=3]="LEVEL",E[E.SETTING=4]="SETTING",E[E.LOSE=5]="LOSE",E[E.WIN=6]="WIN",E[E.RANK=7]="RANK",E[E.SKIN=8]="SKIN",E[E.MORE=9]="MORE"}(R||(R=E("ENUM_UI_TYPE",{}))),function(E){E.BGM="bgm",E.CLICK="click",E.COLLECT="collect",E.DIE="die",E.GOAL="goal",E.JUMP="jump",E.WIN="win",E.CHICKEN="chicken",E.BOX="box"}(P||(P=E("ENUM_AUDIO_CLIP",{}))),function(E){E.LEVEL="LEVEL",E.LOOP="LOOP"}(S||(S=E("ENUM_GAME_TYPE",{}))),function(E){E[E.BLOCK=0]="BLOCK",E[E.PLAYER=1]="PLAYER"}(n||(n=E("ENUM_GAME_ZINDEX",{}))),A._RF.pop()}}}));

System.register("chunks:///_virtual/EventManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"88e39wmP0xNba6OWvD7UUc4","EventManager",void 0),t("default",function(){function t(){this.eventMap=new Map}t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var n=t.prototype;return n.on=function(t,e,n){this.eventMap.has(t)?this.eventMap.get(t).push({event:e,context:n}):this.eventMap.set(t,[{event:e,context:n}])},n.off=function(t,e){if(this.eventMap.has(t)){var n=this.eventMap.get(t),i=n.findIndex((function(t){return t.event==e}));i>-1&&n.splice(i,1)}},n.emit=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(this.eventMap.has(t)){var a=this.eventMap.get(t);a.forEach((function(t){var e=t.event,i=t.context;i?e.apply(i,n):e(n)}))}},n.clear=function(){this.eventMap.clear()},e(t,null,[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./AudioManager.ts","./DataManager.ts","./EventManager.ts","./StaticInstance.ts","./Baselayer.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,c,l,u,f,g,h,p,d,y,N,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Label,c=t.Node},function(t){l=t.ENUM_GAME_TYPE,u=t.ENUM_GAME_EVENT,f=t.ENUM_AUDIO_CLIP,g=t.ENUM_UI_TYPE,h=t.ENUM_GAME_STATUS},function(t){p=t.default},function(t){d=t.default},function(t){y=t.default},function(t){N=t.StaticInstance},function(t){E=t.default}],execute:function(){var T,b,_,m,M,S,L,U,G;a._RF.push({},"7eb7ewHpWlFNZgKzErI+F6w","GameLayer",void 0);var v=r.ccclass,C=r.property;t("default",(T=v("GameLayer"),b=C(s),_=C(c),m=C(c),T((L=e((S=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"goalLabel",L,o(e)),i(e,"coinsNode",U,o(e)),i(e,"historyNode",G,o(e)),e}n(e,t);var a=e.prototype;return a.onEnable=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchStart,this),this.coinsNode.active=d.instance.type==l.LOOP},a.onTouchStart=function(t){y.instance.emit(u.PLAYER_JUMP)},a.onSettingClick=function(){p.instance.playSound(f.CLICK),N.uiManager.setSettingStyle(1),N.uiManager.toggle(g.SETTING),d.instance.status=h.UNRUNING},a.setGoal=function(){this.goalLabel&&(this.goalLabel.string=d.instance.goal+" Building")},a.setCoins=function(){this.coinsNode&&(this.coinsNode.getChildByName("nums").getComponent(s).string=""+d.instance.coins)},a.setMaxGoal=function(){this.historyNode&&(this.historyNode.getChildByName("maxGoal").getComponent(s).string=""+d.instance.maxGoal)},a.onDisable=function(){this.node.off(c.EventType.TOUCH_START,this.onTouchStart,this)},e}(E)).prototype,"goalLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(S.prototype,"coinsNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(S.prototype,"historyNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=S))||M));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./DataManager.ts","./EventManager.ts","./Enum.ts","./Utils.ts","./Levels.ts","./Block.ts","./PoolManager.ts","./Player.ts","./Star.ts","./SdkManager.ts"],(function(e){"use strict";var t,n,i,a,o,s,c,l,r,d,g,u,h,f,p,m,E,y,N,G,v,M,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,c=e.Node,l=e.UITransform,r=e.Component},function(e){d=e.StaticInstance},function(e){g=e.default},function(e){u=e.default},function(e){h=e.ENUM_GAME_EVENT,f=e.ENUM_GAME_STATUS,p=e.ENUM_UI_TYPE,m=e.ENUM_GAME_TYPE},function(e){E=e.random},function(e){y=e.levels},function(e){N=e.default},function(e){G=e.default},function(e){v=e.default},function(e){M=e.default},function(e){C=e.default}],execute:function(){var _,L,x,A,P;o._RF.push({},"1b4e6NXg3RIDaCI1T/UvI/g","GameManager",void 0);var S=s.ccclass,I=s.property;e("default",(_=S("GameManager"),L=I(c),_((P=t((A=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"stageNode",P,a(t)),t.playerNode=null,t}n(t,e);var o=t.prototype;return o.onLoad=function(){u.instance.on(h.GAME_START,this.onGameStart,this),u.instance.on(h.GAME_RELIVE,this.onGameRelive,this),u.instance.on(h.PLAYER_CLIMB_END,this.onPlayerClimbEnd,this),u.instance.on(h.GAME_WIN,this.onGameWin,this),u.instance.on(h.GAME_LOSE,this.onGameLose,this),u.instance.on(h.EFFECT_STAR_PLAY,this.onEffectStarPlay,this)},o.onGameStart=function(){console.log("game start"),g.instance.reset(),this.initGame()},o.onGameRelive=function(){g.instance.reset(!0),this.initGame()},o.onGameWin=function(){g.instance.status=f.UNRUNING;var e=g.instance.level+1;e>y.length&&(e=y.length),g.instance.level=e,g.instance.save(),e>g.instance.unlock&&(g.instance.unlock=e,g.instance.save()),this.setMaxGoal(),this.scheduleOnce((function(){d.uiManager.toggle(p.WIN)}),.5)},o.onGameLose=function(){g.instance.status=f.UNRUNING,this.setMaxGoal(),this.scheduleOnce((function(){d.uiManager.toggle(p.LOSE)}),.5)},o.initGame=function(){var e,t=this;if(this.stageNode){this.stageNode.removeAllChildren();var n=E(0,y.length-1);g.instance.type==m.LEVEL&&(n=g.instance.level-1);for(var i=y[n],a=0;a<i.length;a++){var o=i[a],s=G.instance.getNode("block"+o,this.stageNode);g.instance.type==m.LEVEL&&s.children.forEach((function(e){e.active&&(e.active="coin"!==e.name)}));var c=s.getComponent(N);c.init({id:a+1,x:0,y:s.getComponent(l).height*a}),c.rendor()}if(g.instance.type==m.LEVEL){var r=g.instance.getLastBlock(),p=r.node.getChildByName("ladder");if(p){p.active=!1;var M=G.instance.getNode("endpoint",this.stageNode);M.setPosition(p.position.x,M.getComponent(l).height/2-(r.node.getComponent(l).height/2-50)+r.y-5)}}var C=null==(e=g.instance.getFirstBlock())?void 0:e.node;C&&(u.instance.emit(h.CAMERA_MOVE,{block:C,reset:!0}),this.scheduleOnce((function(){var e=C.getChildByName("ladder"),n=G.instance.getNode("player"+g.instance.skinIndex,t.stageNode);t.playerNode=n,console.log("TODO: set player zindex"),n.setPosition(-e.position.x,C.position.y),e.position.x>0?n.getComponent(v).setDir(1):n.getComponent(v).setDir(-1)}))),d.uiManager.setGameGoal(),d.uiManager.setGameCoins(),d.uiManager.setGameMaxGoal(),g.instance.status=f.RUNING}},o.setMaxGoal=function(){g.instance.goal>g.instance.maxGoal&&(g.instance.maxGoal=g.instance.goal,g.instance.save(),C.instance.setRank(g.instance.maxGoal))},o.onPlayerClimbEnd=function(){if(g.instance.goal+=1,d.uiManager.setGameGoal(),g.instance.type==m.LOOP){var e=E(1,20),t=G.instance.getNode("block"+e,this.stageNode),n=g.instance.getLastBlock(),i=t.getChildByName("ladder"),a=n.node.getChildByName("ladder"),o=t.getChildByName("bat"),s=t.getChildByName("spikeball"),c=t.getChildByName("trampoline"),r=t.getChildByName("plant");i.position.x==a.position.x&&(i.setPosition(-1*i.position.x,i.position.y),i.setScale(-1*i.scale.x,i.scale.y),o&&o.setPosition(-1*o.position.x,o.position.y),s&&s.setPosition(-1*s.position.x,s.position.y),c&&c.setPosition(-1*c.position.x,c.position.y),r&&(r.setPosition(-1*r.position.x,r.position.y),r.setScale(-1*r.scale.x,r.scale.y)));var u=t.getComponent(N);u.init({id:n.id+1,x:0,y:n.y+n.node.getComponent(l).height}),u.rendor(),this.playerNode.setSiblingIndex(this.playerNode.parent.children.length-1)}},o.onEffectStarPlay=function(e){var t=e.pos,n=e.color,i=e.scale;G.instance.getNode("star",this.stageNode).getComponent(M).init(t,n,i)},o.onDestroy=function(){u.instance.off(h.GAME_START,this.onGameStart),u.instance.off(h.GAME_RELIVE,this.onGameRelive),u.instance.off(h.PLAYER_CLIMB_END,this.onPlayerClimbEnd),u.instance.off(h.GAME_WIN,this.onGameWin),u.instance.off(h.GAME_LOSE,this.onGameLose),u.instance.off(h.EFFECT_STAR_PLAY,this.onEffectStarPlay)},t}(r)).prototype,"stageNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=A))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/Index.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StaticInstance.ts","./Enum.ts","./AudioManager.ts","./DataManager.ts","./ResourceManager.ts","./SdkManager.ts"],(function(e){"use strict";var n,t,r,a,i,s,c,o,u,l,p,d,f,g,y,R,h,I,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){c=e.cclegacy,o=e._decorator,u=e.ProgressBar,l=e.resources,p=e.Component,d=e.PhysicsSystem2D},function(e){f=e.StaticInstance},function(e){g=e.ENUM_UI_TYPE,y=e.ENUM_RESOURCE_TYPE},function(e){R=e.default},function(e){h=e.default},function(e){I=e.default},function(e){M=e.default}],execute:function(){var E,v,A,P,x;c._RF.push({},"e3378J4eAZJVJJYcHPdJHnV","Index",void 0);var D=o.ccclass,S=o.property;e("default",(E=D("Index"),v=S(u),E((x=n((P=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,r(n,"progressBar",x,a(n)),n}return t(n,e),n.prototype.onLoad=function(){var e=this;l.preloadDir("/",(function(n,t){e.progressBar.progress=n/300}),i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.instance.enable=!0,e.next=3,I.instance.loadRes(y.PREFAB);case 3:return e.next=5,I.instance.loadRes(y.SPRITE);case 5:return e.next=7,I.instance.loadRes(y.AUDIO);case 7:h.instance.restore(),R.instance.playMusic(),M.instance.passiveShare(),M.instance.getRank(),M.instance.initBannerAd(),M.instance.initInterstitialAd(),M.instance.initVideoAd(),f.uiManager.toggle(g.LOADING,!1),f.uiManager.toggle(g.MENU,!0);case 16:case"end":return e.stop()}}),e)}))))},n}(p)).prototype,"progressBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=P))||A));c._RF.pop()}}}));

System.register("chunks:///_virtual/LevelLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./Levels.ts","./AudioManager.ts","./DataManager.ts","./EventManager.ts","./PoolManager.ts","./StaticInstance.ts","./Baselayer.ts"],(function(e){"use strict";var t,n,a,l,o,i,r,c,s,u,v,f,g,p,d,E,L,C,y,h,M,m,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator,r=e.Node,c=e.Label,s=e.tween,u=e.Vec3,v=e.Button,f=e.Component},function(e){g=e.ENUM_AUDIO_CLIP,p=e.ENUM_UI_TYPE,d=e.ENUM_GAME_TYPE,E=e.ENUM_GAME_EVENT},function(e){L=e.levels},function(e){C=e.default},function(e){y=e.default},function(e){h=e.default},function(e){M=e.default},function(e){m=e.StaticInstance},function(e){I=e.default}],execute:function(){var _,A,N,k,b;o._RF.push({},"378a9/AJ41C1q+prMr6UA5I","LevelLayer",void 0);var U=i.ccclass,w=i.property;e("default",(_=U("LevelLayer"),A=w(r),_((b=t((k=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o))||this,a(t,"levelContent",b,l(t)),t}n(t,e);var o=t.prototype;return o.onEnable=function(){this.rendorLevelItem()},o.onCloseClick=function(){C.instance.playSound(g.CLICK),m.uiManager.toggle(p.LEVEL,!1)},o.onLevelItemClick=function(e,t){var n=parseInt(t);n<=y.instance.unlock&&(C.instance.playSound(g.CLICK),y.instance.type=d.LEVEL,y.instance.level=n,y.instance.save(),m.uiManager.toggle(p.MENU,!1),m.uiManager.toggle(p.LEVEL,!1),m.uiManager.toggle(p.GAME),h.instance.emit(E.GAME_START))},o.rendorLevelItem=function(){if(this.levelContent){this.levelContent.removeAllChildren();for(var e=0;e<L.length;e++){var t=M.instance.getNode("levelitem",this.levelContent),n=e+1;t.getChildByName("label").getComponent(c).string=""+n,s(t).to(.15,{scale:new u(.8,.8,.8)}).to(.15,{scale:new u(1,1,1)}).start();var a=t.getComponent(v);if(n>y.instance.unlock)t.getChildByName("lock").active=!0,a.enabled=!1;else{t.getChildByName("lock").active=!1;var l=new f.EventHandler;l.target=this.node,l.component="LevelLayer",l.handler="onLevelItemClick",l.customEventData=""+n,a.clickEvents.push(l)}}}},t}(I)).prototype,"levelContent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=k))||N));o._RF.pop()}}}));

System.register("chunks:///_virtual/Levels.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"262b3uLa7tIioq6I6ANhIQC","Levels",void 0);e("levels",[[1,20,1,20],[1,4,5,6,1,20],[1,8,13,12,7,20],[17,4,15,6,9,20],[1,6,7,16,13,20],[1,6,11,8,7,12,9,20],[17,4,3,2,11,10,13,20],[17,6,7,8,5,12,15,20],[1,14,5,6,13,14,11,20],[17,6,15,8,7,16,13,6,3,20],[17,8,13,6,15,4,17,4,5,20],[17,10,9,16,11,8,9,12,15,20],[1,4,9,12,7,8,5,12,17,2,3,20],[1,6,7,14,5,12,11,14,15,4,9,20],[1,6,3,2,7,8,5,14,9,16,3,4,11,20],[1,12,17,8,9,14,9,10,3,10,5,6,7,20],[1,4,5,2,13,10,11,16,3,2,3,4,11,8,15,20],[17,12,11,16,7,10,9,12,5,18,13,6,3,16,11,20],[17,4,9,2,11,10,9,16,3,14,5,10,7,6,13,12,7,20],[17,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,1,18,19,20]]);t._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Baselayer.ts"],(function(e){"use strict";var t,r,n,a;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator},function(e){a=e.default}],execute:function(){var o;r._RF.push({},"ba991v0IllBTZ/PZSDNkrkl","LoadingLayer",void 0);var c=n.ccclass;n.property,e("default",c("LoadingLayer")(o=function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r}(a))||o);r._RF.pop()}}}));

System.register("chunks:///_virtual/LoseLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./AudioManager.ts","./Baselayer.ts","./EventManager.ts","./SdkManager.ts","./DataManager.ts","./ToastManager.ts"],(function(t){"use strict";var e,n,a,i,o,c,s,r,l,u,f,g,y,d,h,E,L,p,M,C,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,s=t.Label,r=t.tween,l=t.Vec3,u=t.Color},function(t){f=t.ENUM_GAME_TYPE,g=t.ENUM_AUDIO_CLIP,y=t.ENUM_UI_TYPE,d=t.ENUM_GAME_EVENT},function(t){h=t.StaticInstance},function(t){E=t.default},function(t){L=t.default},function(t){p=t.default},function(t){M=t.default},function(t){C=t.default},function(t){v=t.default}],execute:function(){var _,S,m,I,N;o._RF.push({},"05e85QD6N1JRpDnkCgnIhOC","LoseLayer",void 0);var O=c.ccclass,T=c.property;t("default",(_=O("LoseLayer"),S=T(s),_((N=e((I=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o))||this,a(e,"costNumLabel",N,i(e)),e.cost=5,e}n(e,t);var o=e.prototype;return o.onEnable=function(){this.node.getChildByName("style1").active=C.instance.type==f.LOOP,this.node.getChildByName("style2").active=C.instance.type==f.LEVEL,this.costNumLabel.string=""+this.cost;var t=this.node.getChildByName("style1");C.instance.type==f.LEVEL&&(t=this.node.getChildByName("style2")),t.children.forEach((function(t){r(t).to(.15,{scale:new l(.8,.8,.8)}).to(.15,{scale:new l(.8,.8,.8)}).start()}))},o.onReliveClick=function(){E.instance.playSound(g.CLICK),C.instance.coins>=this.cost?(C.instance.coins-=this.cost,C.instance.save(),v.instance.show("金币扣除，复活成功",{gravity:"BOTTOM",bg_color:new u(102,202,28,255)}),h.uiManager.toggle(y.LOSE,!1),p.instance.emit(d.GAME_RELIVE)):v.instance.show("金币不足，复活失败",{gravity:"BOTTOM",bg_color:new u(226,69,109,255)})},o.onReliveADClick=function(){E.instance.playSound(g.CLICK),M.instance.showVideoAd((function(){v.instance.show("发放奖励，复活成功",{gravity:"BOTTOM",bg_color:new u(102,202,28,255)}),h.uiManager.toggle(y.LOSE,!1),p.instance.emit(d.GAME_RELIVE)}))},o.onRestartClick=function(){E.instance.playSound(g.CLICK),h.uiManager.toggle(y.LOSE,!1),p.instance.emit(d.GAME_START)},o.onShareClick=function(){E.instance.playSound(g.CLICK),M.instance.activeShare()},e}(L)).prototype,"costNumLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Block.ts","./Camera.ts","./Enum.ts","./Index.ts","./Levels.ts","./Player.ts","./Star.ts","./StaticInstance.ts","./Utils.ts","./Bat.ts","./Box.ts","./Chicken.ts","./Coin.ts","./Plant.ts","./Plantbullet.ts","./Saw.ts","./Spikeball.ts","./Trampoline.ts","./Baselayer.ts","./GameLayer.ts","./LevelLayer.ts","./LoadingLayer.ts","./LoseLayer.ts","./MenuLayer.ts","./MoreLayer.ts","./RankLayer.ts","./SettingLayer.ts","./SkinLayer.ts","./WinLayer.ts","./AlertManager.ts","./AudioManager.ts","./DataManager.ts","./EventManager.ts","./GameManager.ts","./PoolManager.ts","./ResourceManager.ts","./SdkManager.ts","./ToastManager.ts","./UIManager.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MenuLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./AudioManager.ts","./Baselayer.ts","./DataManager.ts","./EventManager.ts"],(function(n){"use strict";var e,t,a,o,i,c,u,l,r,s,g,M;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,a=n._decorator},function(n){o=n.ENUM_AUDIO_CLIP,i=n.ENUM_GAME_TYPE,c=n.ENUM_UI_TYPE,u=n.ENUM_GAME_EVENT},function(n){l=n.StaticInstance},function(n){r=n.default},function(n){s=n.default},function(n){g=n.default},function(n){M=n.default}],execute:function(){var E;t._RF.push({},"00762gPostDGp/BLnCjnO9q","MenuLayer",void 0);var f=a.ccclass;a.property,n("default",f("MenuLayer")(E=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var a=t.prototype;return a.onLoad=function(){console.log("Menu layer on load")},a.onStartClick=function(){console.log("start click"),r.instance.playSound(o.CLICK),g.instance.type=i.LOOP,l.uiManager.toggle(c.MENU,!1),l.uiManager.toggle(c.GAME),M.instance.emit(u.GAME_START)},a.onPlayLevelClick=function(){r.instance.playSound(o.CLICK),g.instance.type=i.LEVEL,g.instance.level<1&&(g.instance.level=1,g.instance.save()),console.error("current level",g.instance.level),l.uiManager.toggle(c.MENU,!1),l.uiManager.toggle(c.LEVEL,!1),l.uiManager.toggle(c.GAME),M.instance.emit(u.GAME_START)},a.onLevelClick=function(){r.instance.playSound(o.CLICK),l.uiManager.toggle(c.LEVEL)},a.onRankClick=function(){r.instance.playSound(o.CLICK),l.uiManager.toggle(c.RANK)},a.onSettingClick=function(){r.instance.playSound(o.CLICK),l.uiManager.setSettingStyle(0),l.uiManager.toggle(c.SETTING)},a.onSkinClick=function(){r.instance.playSound(o.CLICK),l.uiManager.toggle(c.SKIN)},a.onMoreClick=function(){r.instance.playSound(o.CLICK),l.uiManager.toggle(c.MORE)},t}(s))||E);t._RF.pop()}}}));

System.register("chunks:///_virtual/MoreLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Baselayer.ts"],(function(e){"use strict";var r,t,n,o,i,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,a=e._decorator,c=e.Node},function(e){l=e.default}],execute:function(){var u,s,p,f,y;i._RF.push({},"d64aepRjphP9rhahLHlPF5Q","MoreLayer",void 0);var d=a.ccclass,h=a.property;e("default",(u=d("MoreLayer"),s=h(c),u((y=r((f=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return r=e.call.apply(e,[this].concat(i))||this,n(r,"contentNode",y,o(r)),r}t(r,e);var i=r.prototype;return i.onEnable=function(){},i.rendorItems=function(){},i.onCloseClick=function(){},r}(l)).prototype,"contentNode",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Plant.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./DataManager.ts","./PoolManager.ts","./Plantbullet.ts"],(function(t){"use strict";var n,i,o,s,e,l,a,u,h,c,r,d,f,p;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass},function(t){o=t.cclegacy,s=t._decorator,e=t.Animation,l=t.Collider2D,a=t.Contact2DType,u=t.Component},function(t){h=t.ENUM_COLLIDER_TAG,c=t.ENUM_GAME_STATUS,r=t.ENUM_PLANT_STATUS},function(t){d=t.default},function(t){f=t.default},function(t){p=t.default}],execute:function(){var m;o._RF.push({},"29bdfl5GlBAk7WHYGVqcW8P","Plant",void 0);var g=s.ccclass;s.property,t("default",g("Plant")(m=function(t){function o(){for(var n,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(n=t.call.apply(t,[this].concat(o))||this)._status=r.IDLE,n.animation=null,n.isShoot=!1,n.shootTime=1,n.bulletpos=null,n}n(o,t);var s=o.prototype;return s.onLoad=function(){this.animation=this.node.getChildByName("body").getComponent(e),this.bulletpos=this.node.getChildByName("bulletpos"),this.animation.on(e.EventType.FINISHED,this.onFinished,this);var t=this.getComponent(l);t&&(console.log("handle collider event"),t.on(a.BEGIN_CONTACT,this.onBeginContact,this))},s.onBeginContact=function(t,n,i){this.onCollisionEnter(n,t)},s.onCollisionEnter=function(t,n){t.tag!=h.PLAYER||n.tag!=h.PLANT_VIEW||this.isShoot||(this.isShoot=!0,setTimeout(this.onBulletBuild.bind(this),1),this.schedule(this.onBulletBuild,this.shootTime))},s.onBulletBuild=function(){if(d.instance.status==c.RUNING){this.status=r.ATTACK;var t=f.instance.getNode("plantbullet",this.bulletpos),n=1==this.node.scale.x?-this.node.scale.x:this.node.scale.x;t.getComponent(p).setDir(n)}},s.onFinished=function(){this.status=r.IDLE},s.setDir=function(t){this.node.setScale(t,this.node.scale.y)},s.onAnimPlay=function(){this.animation.play(this.status)},s.onDestroy=function(){this.unscheduleAllCallbacks(),this.animation.off(e.EventType.FINISHED,this.onFinished,this)},i(o,[{key:"status",get:function(){return this._status},set:function(t){this._status=t,this.onAnimPlay()}}]),o}(u))||m);o._RF.pop()}}}));

System.register("chunks:///_virtual/Plantbullet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./Enum.ts"],(function(t){"use strict";var e,n,i,o,s,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.Component},function(t){s=t.default},function(t){r=t.ENUM_GAME_STATUS}],execute:function(){var a;n._RF.push({},"8784eNy1iFPF5e32a8EVS9y","Plantbullet",void 0);var u=i.ccclass;i.property,t("default",u("Plantbullet")(a=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).dir=0,e.speed=200,e}e(n,t);var i=n.prototype;return i.setDir=function(t){this.dir=t},i.update=function(t){s.instance.status==r.RUNING&&this.dir&&(this.node.setPosition(this.node.position.x+this.speed*this.dir*t,this.node.position.y),Math.abs(this.node.position.x)>=400&&this.node.removeFromParent())},n}(o))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./AudioManager.ts","./DataManager.ts","./EventManager.ts","./Chicken.ts"],(function(t){"use strict";var i,n,o,e,s,a,c,r,l,h,u,d,p,f,C,y,g,A,E,m,M,v,P,_,x,L,T,B;return{setters:[function(t){i=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,e=t.assertThisInitialized,s=t.createClass},function(t){a=t.cclegacy,c=t._decorator,r=t.Vec3,l=t.BoxCollider2D,h=t.v2,u=t.find,d=t.Animation,p=t.Collider2D,f=t.Contact2DType,C=t.Color,y=t.Intersection2D,g=t.tween,A=t.UITransform,E=t.Component},function(t){m=t.ENUM_PLAYER_STATUS,M=t.ENUM_GAME_EVENT,v=t.ENUM_GAME_STATUS,P=t.ENUM_AUDIO_CLIP,_=t.ENUM_COLLIDER_TAG},function(t){x=t.default},function(t){L=t.default},function(t){T=t.default},function(t){B=t.default}],execute:function(){var S,N,b,I,R,D,U;a._RF.push({},"deaa7xFkV9Hppv9BFvhKE4L","Player",void 0);var w=c.ccclass,O=c.property,k=new r;t("default",(S=w("Player"),N=O(l),b=O(l),S((D=i((R=function(t){function i(){for(var i,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(i,"xCollider",D,e(i)),o(i,"yCollider",U,e(i)),i.canvas=null,i.speed=h(0,0),i.walk=250,i.direction=0,i.jump=700,i.jumpCount=0,i.jumpLimit=1,i.gravity=-2e3,i._status=m.JUMP,i.anim=null,i.physicsCheck=void 0,i}n(i,t);var a=i.prototype;return a.isAir=function(){return this.status==m.JUMP},a.isClimb=function(){return this.status==m.CLIMB},a.onLoad=function(){this.canvas=u("Canvas"),this.anim=this.node.getChildByName("body").getComponent(d),T.instance.on(M.PLAYER_JUMP,this.onJump,this),this.physicsCheck=[];var t=this.getComponent(p);t&&(console.log("handle collider event"),t.on(f.BEGIN_CONTACT,this.onBeginContact,this),t.on(f.END_CONTACT,this.onEndContact,this),t.on(f.PRE_SOLVE,this.onPreSolve,this),t.on(f.POST_SOLVE,this.onPostSolve,this))},a.onBeginContact=function(t,i,n){this.onCollisionEnter(i,t)},a.onEndContact=function(t,i,n){console.log("onEndContact"),this.onCollisionExit(i)},a.onPreSolve=function(t,i,n){var o=n.getWorldManifold();console.log("onPreSolve",o.normal,o.points)},a.onPostSolve=function(t,i,n){console.log("onPostSolve")},a.onDestroy=function(){T.instance.off(M.PLAYER_JUMP,this.onJump)},a.update=function(t){this.isAir()&&(this.speed.y+=this.gravity*t),this.isClimb()||(this.speed.x=this.walk*this.direction);var i=this.node.position.x;if(L.instance.status==v.RUNING&&(i+=this.speed.x*t),this.node.setPosition(i,this.node.position.y+this.speed.y*t),this.physicsCheck.length>0)for(var n=this.physicsCheck.length-1;n>=0;n--){var o=this.physicsCheck[n];o.frame--,console.log("frame",o.frame),o.frame<=0&&(this.checkAabb(o),this.physicsCheck.splice(n,1))}},a.checkAabb=function(t){console.log("checkAabb",t);var i=t.other,n=t.self,o=n.worldAABB.clone(),e=t.selfPreAabb,s=i.worldAABB.clone(),a=t.otherPreAabb;t.colliderX?this.onCollisionEnterX(i,n,s,o,a,e):this.onCollisionEnterY(i,n,s,o,a,e)},a.setDir=function(t){void 0===t&&(t=1),t<0&&(t=-1),t>0&&(t=1),this.direction=t,this.onTurn()},a.onJump=function(){L.instance.status==v.RUNING&&(this.jumpCount++,this.jumpCount>this.jumpLimit||this.isClimb()||(x.instance.playSound(P.JUMP),this.status=m.JUMP,this.speed.y=this.jump))},a.onTurn=function(){if(this.direction){var t=Math.abs(this.node.scale.x);this.node.setScale(Math.abs(this.node.scale.x),this.node.scale.y),-1==this.direction&&(t*=-1),this.node.setScale(t,this.node.scale.y)}},a.onAnimPlay=function(){console.log("TODO: check current clip"),this.anim.play(this.status)},a.deactivePhysicsNode=function(t){this.scheduleOnce((function(){return t.active=!1}))},a.onCollisionEnter=function(t,i){var n=new C(243,175,197,255);if(t.tag!=_.ENDPOINT)if(t.tag!=_.SPIKE&&t.tag!=_.BAT&&t.tag!=_.SAW&&t.tag!=_.SPIKEBALL&&t.tag!=_.PLANT_BULLET){if(t.tag==_.CHICKEN){x.instance.playSound(P.CHICKEN),n=new C(255,255,255,255);for(var o=0;o<3;o++)T.instance.emit(M.EFFECT_STAR_PLAY,{pos:i.node.position,color:n});return t.node.getComponent(B).onTurn(),this.direction=-1*t.node.getComponent(B).getDir(),void this.onTurn()}if(t.tag==_.TRAMPOLINE){x.instance.playSound(P.JUMP),n=new C(255,255,255,255);for(var e=0;e<3;e++)T.instance.emit(M.EFFECT_STAR_PLAY,{pos:i.node.position,color:n});return this.status=m.CLIMB,void(this.speed.y=2*this.jump)}if(t instanceof l){var s=i.worldAABB,a=this.xCollider.worldAABB.clone(),c=this.yCollider.worldAABB.clone(),r=t.worldAABB.clone();t.tag!==_.GROUND&&y.rectRect(a,r)?this.onCollisionEnterX(t,i,r,s,r,s):(console.log(c,r),y.rectRect(c,r)&&this.onCollisionEnterY(t,i,r,s,r,s))}}else{x.instance.playSound(P.DIE),T.instance.emit(M.GAME_LOSE),this.deactivePhysicsNode(i.node),n=new C(226,69,109,255);for(var h=0;h<5;h++)T.instance.emit(M.EFFECT_STAR_PLAY,{pos:i.node.position,color:n})}else{x.instance.playSound(P.WIN),T.instance.emit(M.GAME_WIN);for(var u=0;u<5;u++)T.instance.emit(M.EFFECT_STAR_PLAY,{pos:i.node.position,color:n})}},a.onCollisionEnterX=function(t,i,n,o,e,s){var a=this;switch(t.tag){case _.WALL:case _.BRICK:case _.BOX:this.speed.x<0&&s.xMax>e.xMax?this.node.setPosition(this.node.position.x+Math.floor(Math.abs(n.xMax-o.xMin)),this.node.position.y):this.speed.x>0&&s.xMin<e.xMin&&this.node.setPosition(this.node.position.x-Math.floor(Math.abs(n.xMax-o.xMin)),this.node.position.y),this.direction*=-1,this.onTurn();break;case _.LADDER:var c=t.node.position.x-i.node.position.x;this.status=m.CLIMB,this.speed.x=0,this.speed.y=0,this.direction*=-1,this.onTurn(),this.node.getPosition(k),k=k.add(new r(c,0,0)),g(this.node).to(.05,{position:k}).call((function(){a.speed.y=.5*a.jump})).start()}},a.getHeight=function(t){return t.getComponent(A).height},a.onCollisionEnterY=function(t,i,n,o,e,s){var a=this;switch(t.tag){case _.GROUND:case _.BRICK:case _.BOX:this.speed.y<0&&s.yMax>e.yMax?(this.jumpCount=0,this.status=m.WALK,this.node.setPosition(this.node.position.x,e.yMax-this.canvas.position.y+(this.getHeight(i.node)-this.getHeight(t.node))),this.speed.y=0,t.touchingY=!0):this.speed.y>0&&s.yMin<e.yMin&&(this.node.getPosition(k),k.y=e.yMin-this.canvas.position.y+this.getHeight(i.node),g(this.node).to(.4,{position:k}).call((function(){x.instance.playSound(P.GOAL),T.instance.emit(M.PLAYER_CLIMB_END),T.instance.emit(M.CAMERA_MOVE,{block:t.node.parent}),a.status=m.WALK,a.jumpCount=0})).start(),this.speed.y=0)}},a.onCollisionExit=function(t){t.tag!=_.BRICK&&t.tag!=_.BOX||t.touchingY&&(t.touchingY=!1,this.status=m.JUMP)},s(i,[{key:"status",get:function(){return this._status},set:function(t){this._status=t,this.onAnimPlay()}}]),i}(E)).prototype,"xCollider",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(R.prototype,"yCollider",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=R))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t.instantiate,o=t.NodePool}],execute:function(){i._RF.push({},"41592sooK9FwYV5Ph0Zv92O","PoolManager",void 0),t("default",function(){function t(){this._dictPool={},this._dictPrefab={}}t.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var i=t.prototype;return i.copyNode=function(t,e){var i=t.name;this._dictPrefab[i]=t;var r=null;if(this._dictPool.hasOwnProperty(i)){var s=this._dictPool[i];r=s.size()>0?s.get():n(t)}else{var c=new o;this._dictPool[i]=c,r=n(t)}return e&&(r.parent=e,r.active=!0),r},i.getNode=function(t,e,i){var r,s;if("string"==typeof t){if(s=t,!(r=this._dictPrefab[t]))return console.log("Pool invalid prefab name = ",s),null}else r=t,s=t.data.name;var c=null;if(this._dictPool.hasOwnProperty(s)){var a=this._dictPool[s];c=a.size()>0?a.get():n(r)}else{var l=new o;this._dictPool[s]=l,c=n(r)}return e&&(c.parent=e,c.active=!0,i&&(c.position=i)),c},i.putNode=function(t,e){if(t){var i=t.name,n=null;this._dictPool.hasOwnProperty(i)?n=this._dictPool[i]:(n=new o,this._dictPool[i]=n),n.put(t)}},i.clearPool=function(t){this._dictPool.hasOwnProperty(t)&&this._dictPool[t].clear()},i.setPrefab=function(t,e){this._dictPrefab[t]=e},i.getPrefab=function(t){return this._dictPrefab[t]},i.getDictLength=function(){console.log(this._dictPool,this._dictPrefab)},e(t,null,[{key:"instance",get:function(){return this.getInstance()}}]),t}())._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/RankLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./AudioManager.ts","./SdkManager.ts","./StaticInstance.ts","./Baselayer.ts"],(function(n){"use strict";var t,e,a,c,s,i,o,r,u;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,a=n._decorator},function(n){c=n.ENUM_AUDIO_CLIP,s=n.ENUM_UI_TYPE},function(n){i=n.default},function(n){o=n.default},function(n){r=n.StaticInstance},function(n){u=n.default}],execute:function(){var l;e._RF.push({},"fb82c5akdZDqKskGCWO6ras","RankLayer",void 0);var f=a.ccclass;a.property,n("default",f("RankLayer")(l=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var a=e.prototype;return a.onEnable=function(){o.instance.showInterstitialAd(),o.instance.getRank()},a.onCloseClick=function(){i.instance.playSound(c.CLICK),r.uiManager.toggle(s.RANK,!1)},e}(u))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./PoolManager.ts"],(function(e){"use strict";var n,t,r,a,i,s,c,u,o,p;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){a=e.cclegacy,i=e.resources,s=e.SpriteFrame,c=e.Prefab,u=e.AudioClip},function(e){o=e.ENUM_RESOURCE_TYPE},function(e){p=e.default}],execute:function(){a._RF.push({},"e8e4fMncwhGN5ePYAgy0hp9","ResourceManager",void 0),e("default",function(){function e(){this.clipMap={},this.spriteMap={}}e.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance};var a=e.prototype;return a.loadRes=function(){var e=t(r().mark((function e(n){var t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var a=null;switch(n){case o.AUDIO:a=u;break;case o.PREFAB:a=c;break;case o.SPRITE:a=s}i.loadDir(n,a,(function(a,i){var s;if(a&&r&&r(),n==o.AUDIO)for(var c=0;c<i.length;c++)s=i[c],t.clipMap[s.name]||(t.clipMap[s.name]=s);if(n==o.PREFAB)for(var u=0;u<i.length;u++)s=i[u],p.instance.setPrefab(s.data.name,s);if(n==o.SPRITE)for(var l=0;l<i.length;l++)s=i[l],t.spriteMap[s.name]||(t.spriteMap[s.name]=s);e&&e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),a.getClip=function(e){return this.clipMap[e]},a.getSprite=function(e){return this.spriteMap[e]},n(e,null,[{key:"instance",get:function(){return this.getInstance()}}]),e}())._instance=null,a._RF.pop()}}}));

System.register("chunks:///_virtual/Saw.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(t){"use strict";var i,e,s,r,n,c,a;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t._decorator,r=t.v3,n=t.v2,c=t.Component},function(t){a=t.random}],execute:function(){var o;e._RF.push({},"8173bTiPHNF0bbaw//20JEJ","Saw",void 0);var h=s.ccclass;s.property,t("default",h("Saw")(o=function(t){function e(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this).speed=200,i.dir=1,i.radian=0,i.circleRadius=100,i.circleCenter=n(0,0),i}i(e,t);var s=e.prototype;return s.onLoad=function(){this.speed=a(200,400),this.dir=a(-1,1),0!=this.dir&&this.schedule(this.circleMove,.01)},s.circleMove=function(t){this.radian+=t*(this.speed/100)*this.dir;var i=this.circleRadius*Math.cos(this.radian)+this.circleCenter.x,e=this.circleRadius*Math.sin(this.radian)+this.circleCenter.y;this.node.position=r(i,e,0);var s=Math.atan2(e,i)/(Math.PI/180);this.node.angle=s},s.setSpeed=function(t){this.speed=t,0==t&&this.unscheduleAllCallbacks()},e}(c))||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/SdkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var i,t;return{setters:[function(n){i=n.createClass},function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"74a5bUAGGBMdbr9gOMNpReb","SdkManager",void 0),n("default",function(){function n(){this.shareMsg="你敢来挑战吗？据说没有人能够爬上100层！",this.videoId="",this.videoAd=null,this.interstitialId="",this.interstitialAd=null,this.bannerId="",this.bannerAd=null}var t=n.prototype;return t.activeShare=function(){void 0!==window.wx?window.wx.shareAppMessage({title:this.shareMsg}):console.log("【主动分享】仅支持微信平台!")},t.passiveShare=function(){var n=this;void 0!==window.wx?(window.wx.showShareMenu({success:function(n){},fail:function(n){}}),window.wx.onShareAppMessage((function(){return{title:n.shareMsg}}))):console.log("【被动分享】仅支持微信平台!")},t.turnToApp=function(n){if(void 0===window.wx)return console.log("【程序跳转】仅支持微信平台!",n),void this.turnToBrowser(n);window.wx.navigateToMiniProgram({appId:n})},t.turnToBrowser=function(n){window.open(n)},t.initBannerAd=function(){var n=this;if(void 0!==window.wx)if(""!=this.bannerId){var i=window.wx.getSystemInfoSync();null==this.bannerAd&&(this.bannerAd=window.wx.createBannerAd({adUnitId:this.bannerId,adIntervals:10,style:{height:i.windowHeight-80,left:0,top:500,width:i.windowWidth}}),this.bannerAd.onResize((function(t){n.bannerAd.style.top=i.windowHeight-n.bannerAd.style.realHeight,n.bannerAd.style.left=i.windowWidth/2-n.bannerAd.style.realWidth/2})),this.bannerAd.onError((function(n){console.error("【流量主横幅】初始化有误")})))}else console.log("【流量主】请配置横幅广告ID");else console.log("【流量主横幅初始化】仅支持微信平台!")},t.toggleBannerAd=function(n){void 0!==window.wx?this.bannerAd&&(n?this.bannerAd.show():this.bannerAd.hide()):console.log("【流量主横幅】仅支持微信平台!")},t.initInterstitialAd=function(){void 0!==window.wx?""!=this.interstitialId?null==this.interstitialAd&&(this.interstitialAd=window.wx.createInterstitialAd({adUnitId:this.interstitialId}),this.interstitialAd.onError((function(n){console.error("【流量主插屏】初始化有误")}))):console.log("【流量主】请配置插屏广告ID"):console.log("【流量主插屏初始化】仅支持微信平台!")},t.showInterstitialAd=function(){void 0!==window.wx?this.interstitialAd&&this.interstitialAd.show().catch((function(n){console.error("【流量主插屏】加载失败")})):console.log("【流量主插屏】仅支持微信平台!")},t.initVideoAd=function(){void 0!==window.wx?""!=this.videoId?null==this.videoAd&&(this.videoAd=window.wx.createRewardedVideoAd({adUnitId:this.videoId}),this.videoAd.onError((function(n){console.error("【流量主激励】初始化有误")}))):console.log("【流量主】请配置激励视频广告ID"):console.log("【流量主激励初始化】仅支持微信平台!")},t.showVideoAd=function(n,i){},t.getRank=function(){void 0!==window.wx?window.wx.postMessage({event:"getRank"}):console.log("【获取排名】仅支持微信平台!")},t.setRank=function(n){void 0!==window.wx?window.wx.postMessage({event:"setScore",score:n}):console.log("【设置排名】仅支持微信平台!",n)},i(n,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}())._instance=null,t._RF.pop()}}}));

System.register("chunks:///_virtual/SettingLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./AudioManager.ts","./Baselayer.ts","./DataManager.ts","./SdkManager.ts"],(function(n){"use strict";var e,t,i,s,o,a,c,u,r,l,d,f,h,g,y,N,M;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,s=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,c=n.Node,u=n.tween,r=n.Vec3},function(n){l=n.ENUM_AUDIO_CLIP,d=n.ENUM_UI_TYPE,f=n.ENUM_GAME_STATUS},function(n){h=n.StaticInstance},function(n){g=n.default},function(n){y=n.default},function(n){N=n.default},function(n){M=n.default}],execute:function(){var p,S,C,m,v;o._RF.push({},"e404exBptVB0L+pVm6Q6Bjc","SettingLayer",void 0);var E=a.ccclass,I=a.property;n("default",(p=E("SettingLayer"),S=I(c),p((v=e((m=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,i(e,"styleNode",v,s(e)),e.musicNode=null,e.soundNode=null,e}t(e,n);var o=e.prototype;return o.onEnable=function(){M.instance.showInterstitialAd(),this.rendorMusic(),this.rendorSound()},o.onCloseClick=function(n){g.instance.playSound(l.CLICK),h.uiManager.toggle(d.SETTING,!1),h.uiManager.isActive(d.GAME)&&(N.instance.status=f.RUNING)},o.onHomeClick=function(){g.instance.playSound(l.CLICK),h.uiManager.toggle(d.GAME,!1),h.uiManager.toggle(d.SETTING,!1),h.uiManager.toggle(d.MENU,!0)},o.onSoundClick=function(){g.instance.playSound(l.CLICK),N.instance.isSoundOn=!N.instance.isSoundOn,N.instance.save(),this.rendorSound()},o.onMusicClick=function(){g.instance.playSound(l.CLICK),N.instance.isMusicOn=!N.instance.isMusicOn,N.instance.save(),N.instance.isMusicOn?g.instance.playMusic():g.instance.stopMusic(),this.rendorMusic()},o.setStyle=function(n){this.styleNode.children.forEach((function(e,t){e.active=n===t}));var e=this.styleNode.children[n],t=e.getChildByName("buttons");this.musicNode=t.getChildByName("music"),this.soundNode=t.getChildByName("sound"),e.children.forEach((function(n){u(n).to(.15,{scale:new r(.8,.8,.8)}).to(.15,{scale:new r(1,1,1)}).start()}))},o.rendorMusic=function(){this.musicNode&&(this.musicNode.getChildByName("on").active=N.instance.isMusicOn,this.musicNode.getChildByName("off").active=!N.instance.isMusicOn)},o.rendorSound=function(){this.soundNode&&(this.soundNode.getChildByName("on").active=N.instance.isSoundOn,this.soundNode.getChildByName("off").active=!N.instance.isSoundOn)},e}(y)).prototype,"styleNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=m))||C));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkinLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Baselayer.ts"],(function(e){"use strict";var n,t,r,i,o,c,a,l,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,a=e.Label,l=e.Node},function(e){u=e.default}],execute:function(){var s,f,p,y,b,d,L;o._RF.push({},"3e6e8wEjQxERJobQxXBSrjm","SkinLayer",void 0);var h=c.ccclass,v=c.property;e("default",(s=h("SkinLayer"),f=v(a),p=v(l),s((d=n((b=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return n=e.call.apply(e,[this].concat(o))||this,r(n,"coinsLabel",d,i(n)),r(n,"contentNode",L,i(n)),n}t(n,e);var o=n.prototype;return o.onEnable=function(){},o.rendorCoins=function(){},o.rendorItems=function(e){},o.onCloseClick=function(){},o.onItemClick=function(e,n){},n}(u)).prototype,"coinsLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(b.prototype,"contentNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Spikeball.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./DataManager.ts","./Utils.ts"],(function(t){"use strict";var n,i,o,e,s,r,a,c,l,u;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,e=t.Collider2D,s=t.Contact2DType,r=t.Component},function(t){a=t.ENUM_COLLIDER_TAG,c=t.ENUM_GAME_STATUS},function(t){l=t.default},function(t){u=t.random}],execute:function(){var d;i._RF.push({},"7a664UgPoJBPZIkbgZkByfe","Spikeball",void 0);var h=o.ccclass;o.property,t("default",h("Spikeball")(d=function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this).dir=1,n.speed=300,n}n(i,t);var o=i.prototype;return o.onLoad=function(){this.speed=u(300,650);var t=this.getComponent(e);t&&(console.log("handle collider event"),t.on(s.BEGIN_CONTACT,this.onBeginContact,this))},o.onBeginContact=function(t,n,i){this.onCollisionEnter(n,t)},o.onCollisionEnter=function(t,n){t.tag!=a.WALL&&t.tag!=a.BRICK||n.tag!=a.SPIKEBALL||this.onTurn()},o.onTurn=function(){this.dir&&(this.dir*=-1,this.node.setScale(-1*this.dir,this.node.scale.y))},o.update=function(t){l.instance.status==c.RUNING&&this.dir&&(this.node.setPosition(this.node.position.x+this.speed*this.dir*t,this.node.position.y),this.node.angle-=10*this.dir,this.node.angle=this.node.angle%360)},i}(r))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/Star.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,e,o,r,i,a;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,o=t._decorator,r=t.Sprite,i=t.tween,a=t.Component}],execute:function(){var s;e._RF.push({},"fd8d17OXrZNY5Bw7yV6p+Jr","Star",void 0);var c=o.ccclass,d=(o.property,t("default",c("Star")(s=function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).speed=0,n.dir=0,n}return n(e,t),e.prototype.init=function(t,n,e){var o=this;this.node.setPosition(t),n&&(this.node.getComponent(r).color=n),this.speed=8*Math.random(),this.dir=Math.random();var a=.3+.6*Math.random();this.node.setScale(a,a,a),e&&this.node.setScale(e,e,e);var s=50+150*Math.random(),c=.3+.4*Math.random(),u=this.node,h=this.dir,p=this.speed,l=new d;l.y=t.y;var y=i(l).delay(.05*Math.random()),f=i(l).by(c,{y:s},{easing:"cubicOut",onUpdate:function(t){var n=u.position.x;h>.5?n+=p:n-=p,u.setPosition(n,t.y)}}),v=i(l).by(c,{y:10-s-40*Math.random()},{easing:"cubicOut",onUpdate:function(t){var n=u.position.x;h>.5?n+=p:n-=p,u.setPosition(n,t.y)}});i(l).sequence(y,f,v).call((function(){o.node.removeFromParent()})).start()},e}(a))||s),function(){this.y=void 0});e._RF.pop()}}}));

System.register("chunks:///_virtual/StaticInstance.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"eb828NmJRdIv7b/mV8PXEPl","StaticInstance",void 0),t("StaticInstance",function(){function t(){}return t.setUIManager=function(n){t.uiManager=n},t}()).uiManager=void 0,n._RF.pop()}}}));

System.register("chunks:///_virtual/ToastManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,e,i;return{setters:[function(n){t=n.createClass},function(n){e=n.cclegacy,i=n.color}],execute:function(){e._RF.push({},"5adf0+YUvVPvKkOhsiUFNA/","ToastManager",void 0),n("default",function(){function n(){}return n.getInstance=function(){return null===this._instance&&(this._instance=new this),this._instance},n.prototype.show=function(n,t){var e=void 0===t?{}:t,s=(e.gravity,e.duration,e.bg_color);void 0===s&&i(102,102,102,200)},t(n,null,[{key:"instance",get:function(){return this.getInstance()}}]),n}())._instance=null,e._RF.pop()}}}));

System.register("chunks:///_virtual/Trampoline.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts"],(function(n){"use strict";var t,o,i,e,s,a,r,c,l;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator,e=n.Animation,s=n.Collider2D,a=n.Contact2DType,r=n.RigidBody2D,c=n.Component},function(n){l=n.ENUM_COLLIDER_TAG}],execute:function(){var h;o._RF.push({},"891c6JLwiRL9ZNE5uTn1SMK","Trampoline",void 0);var p=i.ccclass;i.property,n("default",p("Trampoline")(h=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this).animation=null,t}t(o,n);var i=o.prototype;return i.onLoad=function(){this.animation=this.node.getComponent(e),this.animation.on(e.EventType.PLAY,this.onPlay,this),this.animation.on(e.EventType.FINISHED,this.onFinished,this);var n=this.getComponent(s);n&&(console.log("handle collider event"),n.on(a.BEGIN_CONTACT,this.onBeginContact,this)),this.getComponent(r).enabledContactListener=!0},i.onBeginContact=function(n,t,o){this.onCollisionEnter(t,n)},i.onCollisionEnter=function(n,t){n.tag==l.PLAYER&&t.tag==l.TRAMPOLINE&&t.node.getComponent(e).play()},i.onPlay=function(){this.animation.getState("trampoline").isPlaying&&this.node.getComponent(s).destroy()},i.onFinished=function(){this.node.active=!1},i.onDestroy=function(){this.animation.off(e.EventType.PLAY,this.onFinished,this),this.animation.off(e.EventType.FINISHED,this.onFinished,this)},o}(c))||h);o._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./LoadingLayer.ts","./MenuLayer.ts","./GameLayer.ts","./SettingLayer.ts","./LoseLayer.ts","./WinLayer.ts","./LevelLayer.ts","./SkinLayer.ts","./MoreLayer.ts","./RankLayer.ts"],(function(e){"use strict";var t,i,n,a,r,u,o,l,s,c,f,y,p,L,h,g,M,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,o=e.Component},function(e){l=e.ENUM_UI_TYPE},function(e){s=e.StaticInstance},function(e){c=e.default},function(e){f=e.default},function(e){y=e.default},function(e){p=e.default},function(e){L=e.default},function(e){h=e.default},function(e){g=e.default},function(e){M=e.default},function(e){b=e.default},function(e){d=e.default}],execute:function(){var m,v,w,E,G,I,z,S,k,A,N,T,U,_,R,C,D,x,B,O,P,j,F;r._RF.push({},"83b71jt5VBL376CuEBI1XTZ","UIManager",void 0);var K=u.ccclass,V=u.property;e("default",(m=K("UIManager"),v=V(c),w=V(f),E=V(y),G=V(p),I=V(L),z=V(h),S=V(g),k=V(M),A=V(b),N=V(d),m((_=t((U=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,n(t,"loadingLayer",_,a(t)),n(t,"menuLayer",R,a(t)),n(t,"gameLayer",C,a(t)),n(t,"settingLayer",D,a(t)),n(t,"loseLayer",x,a(t)),n(t,"winLayer",B,a(t)),n(t,"levelLayer",O,a(t)),n(t,"skinLayer",P,a(t)),n(t,"moreLayer",j,a(t)),n(t,"rankLayer",F,a(t)),t.uiMap=new Map,t}i(t,e);var r=t.prototype;return r.onLoad=function(){s.setUIManager(this),this.uiMap.set(l.LOADING,this.loadingLayer),this.uiMap.set(l.MENU,this.menuLayer),this.uiMap.set(l.GAME,this.gameLayer),this.uiMap.set(l.SETTING,this.settingLayer),this.uiMap.set(l.LOSE,this.loseLayer),this.uiMap.set(l.WIN,this.winLayer),this.uiMap.set(l.LEVEL,this.levelLayer),this.uiMap.set(l.SKIN,this.skinLayer),this.uiMap.set(l.MORE,this.moreLayer),this.uiMap.set(l.RANK,this.rankLayer)},r.toggle=function(e,t,i){if(void 0===t&&(t=!0),this.uiMap.has(e)){var n=this.uiMap.get(e);t?n.show():n.hide(),i&&i()}else console.error("cannot find: "+e)},r.isActive=function(e){return!!this.uiMap.has(e)&&this.uiMap.get(e).node.active},r.setSettingStyle=function(e){void 0===e&&(e=0),this.uiMap.get(l.SETTING).setStyle(e)},r.setGameGoal=function(){this.uiMap.get(l.GAME).setGoal()},r.setGameCoins=function(){this.uiMap.get(l.GAME).setCoins()},r.setGameMaxGoal=function(){this.uiMap.get(l.GAME).setMaxGoal()},t}(o)).prototype,"loadingLayer",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(U.prototype,"menuLayer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(U.prototype,"gameLayer",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"settingLayer",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"loseLayer",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(U.prototype,"winLayer",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"levelLayer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(U.prototype,"skinLayer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"moreLayer",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"rankLayer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=U))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({random:function(t,n){return Math.floor(Math.random()*(n-t+1))+t},shuffle:function(t){var n,r,o=t.length;for(;o;)n=Math.floor(Math.random()*o--),r=t[n],t[n]=t[o],t[o]=r;return t},sort:function(t,n,r){void 0===r&&(r=!0);if(t instanceof Array)return t.sort((function(t,o){return t[n]>o[n]?r?1:-1:t[n]<o[n]?r?-1:1:0}))}}),n._RF.push({},"197495ufcxBWbinbyya0R/U","Utils",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/WinLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enum.ts","./StaticInstance.ts","./AudioManager.ts","./Baselayer.ts","./EventManager.ts","./SdkManager.ts"],(function(n){"use strict";var t,e,a,c,i,o,r,u,s,l,f,d,p;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,a=n._decorator,c=n.tween,i=n.Vec3},function(n){o=n.ENUM_AUDIO_CLIP,r=n.ENUM_UI_TYPE,u=n.ENUM_GAME_EVENT},function(n){s=n.StaticInstance},function(n){l=n.default},function(n){f=n.default},function(n){d=n.default},function(n){p=n.default}],execute:function(){var h;e._RF.push({},"cf5e5mk3shHmaA1BS8Kcp+T","WinLayer",void 0);var y=a.ccclass;a.property,n("default",y("WinLayer")(h=function(n){function e(){return n.apply(this,arguments)||this}t(e,n);var a=e.prototype;return a.onEnable=function(){this.node.getChildByName("panel").children.forEach((function(n){c(n).to(.15,{scale:new i(.8,.8,.8)}).to(.15,{scale:new i(1,1,1)}).start()}))},a.onNextClick=function(){l.instance.playSound(o.CLICK),s.uiManager.toggle(r.WIN,!1),d.instance.emit(u.GAME_START)},a.onShareClick=function(){l.instance.playSound(o.CLICK),p.instance.activeShare()},e}(f))||h);e._RF.pop()}}}));
